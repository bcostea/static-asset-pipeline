buildscript {
  repositories {
    maven  {
      url "http://repo1.maven.org/maven2"
    }
  }
  dependencies {
    classpath("org.springframework.boot:spring-boot-gradle-plugin:1.2.3.RELEASE")
  }
}

plugins {
  id "com.moowork.grunt" version "0.9"
}

apply plugin: 'java'
apply plugin: 'spring-boot'
apply plugin: 'com.moowork.grunt'

jar {
  baseName = 'static-asset-pipeline'
    version =  '0.1.0'
}

repositories {
  maven  {
    url "http://repo1.maven.org/maven2"
  }
}

sourceCompatibility = 1.7
targetCompatibility = 1.7

dependencies {
  compile("org.springframework.boot:spring-boot-starter-web") {
    exclude module: "spring-boot-starter-tomcat"
  }
  compile("org.springframework.boot:spring-boot-starter-jetty")
    compile("org.springframework.boot:spring-boot-starter-actuator")
    testCompile("junit:junit")
}

task wrapper(type: Wrapper) {
  gradleVersion = '2.3'
}

grunt_build.dependsOn 'installGrunt'
grunt_build.dependsOn 'npmInstall'

build.dependsOn grunt_release
